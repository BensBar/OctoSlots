<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NFL 4K Slots</title>
    <style>
        :root {
            --primary-bg: #013369; /* NFL Blue */
            --secondary-bg: #D50A0A; /* NFL Red */
            --machine-body: #654321;
            --machine-face: #000000;
            --chrome: #2a2a2a;
            --gold: #FFD700;
            --text-color: #FFFFFF;
            --highlight-color: #FFD700;
            --win-color: #00FF00;
            --machine-width: 800px;
            --machine-height: 900px;
            --reel-size: 150px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, var(--primary-bg) 0%, var(--secondary-bg) 100%);
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        .slot-machine-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .slot-machine {
            position: relative;
            width: var(--machine-width);
            height: var(--machine-height);
            background: linear-gradient(135deg, var(--machine-body) 0%, #4A2C17 50%, var(--machine-body) 100%);
            border-radius: 30px;
            border: 8px solid var(--chrome);
            box-shadow: 
                0 0 40px rgba(0, 0, 0, 0.9),
                inset 0 0 20px rgba(255, 255, 255, 0.1),
                inset 0 -10px 20px rgba(0, 0, 0, 0.8);
            padding: 30px;
            overflow: visible;
        }

        .machine-top {
            text-align: center;
            padding: 15px;
            background: linear-gradient(135deg, var(--chrome) 0%, #1a1a1a 100%);
            border-radius: 15px;
            margin-bottom: 20px;
            border: 3px solid var(--gold);
        }

        .machine-title {
            font-size: 32px;
            font-weight: bold;
            color: var(--gold);
            text-shadow: 0 0 10px var(--gold);
            margin-bottom: 10px;
        }

        .flashing-lights {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .light {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #333;
            border: 2px solid var(--chrome);
            transition: all 0.3s;
        }

        .light.on {
            background: var(--gold);
            box-shadow: 0 0 15px var(--gold);
        }

        .reels-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            position: relative;
            background: linear-gradient(135deg, var(--machine-face) 0%, #1a1a1a 100%);
            padding: 20px;
            border-radius: 15px;
            border: 4px solid var(--chrome);
            box-shadow: 
                inset 0 0 30px rgba(0, 0, 0, 0.8),
                0 4px 8px rgba(0, 0, 0, 0.6);
        }

        .reel {
            width: var(--reel-size);
            height: var(--reel-size);
            background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            border: 3px solid var(--chrome);
            box-shadow: 
                inset 0 0 30px rgba(0, 0, 0, 0.8),
                0 0 10px rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .reel img {
            width: 80%;
            height: 80%;
            object-fit: contain;
            transition: transform 0.1s ease;
        }

        .reel.spinning img {
            animation: spin-blur 0.1s linear infinite;
        }

        @keyframes spin-blur {
            0% { transform: scale(1) rotate(0deg); filter: blur(2px); }
            50% { transform: scale(0.9) rotate(180deg); filter: blur(4px); }
            100% { transform: scale(1) rotate(360deg); filter: blur(2px); }
        }

        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            background: linear-gradient(135deg, var(--chrome) 0%, #1a1a1a 100%);
            padding: 20px;
            border-radius: 15px;
            border: 4px solid var(--chrome);
            box-shadow: 
                inset 0 0 20px rgba(0, 0, 0, 0.8),
                0 4px 8px rgba(0, 0, 0, 0.6);
        }

        .score-display {
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        .score-card {
            background: linear-gradient(135deg, var(--machine-face) 0%, #0a0a0a 100%);
            border: 3px solid var(--chrome);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            min-width: 100px;
            box-shadow: 
                inset 0 0 20px rgba(0, 0, 0, 0.8),
                0 4px 8px rgba(0, 0, 0, 0.6);
        }

        .score-card h3 {
            font-size: 14px;
            color: var(--gold);
            margin-bottom: 5px;
            text-shadow: 0 0 5px var(--gold);
        }

        .score-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--gold);
            text-shadow: 
                0 0 10px var(--gold),
                2px 2px 4px rgba(0, 0, 0, 0.8);
        }

        .button-row {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .control-button {
            background: linear-gradient(135deg, var(--gold) 0%, #DAA520 100%);
            border: 3px solid var(--chrome);
            color: #000;
            padding: 12px 20px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);
        }

        .control-button:hover {
            background: linear-gradient(135deg, #FFF700 0%, var(--gold) 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.8);
        }

        .control-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.6);
        }

        .control-button:disabled {
            background: #666;
            color: #999;
            cursor: not-allowed;
            transform: none;
        }

        .spin-button {
            background: linear-gradient(135deg, var(--secondary-bg) 0%, #B50A0A 100%);
            border: 6px solid var(--chrome);
            color: white;
            padding: 20px 40px;
            font-size: 24px;
            font-weight: bold;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.8);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }

        .spin-button:hover {
            background: linear-gradient(135deg, #FF0A0A 0%, var(--secondary-bg) 100%);
            transform: translateY(-3px);
            box-shadow: 0 9px 18px rgba(0, 0, 0, 0.9);
        }

        .spin-button:active {
            transform: translateY(0);
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.8);
        }

        .spin-button:disabled {
            background: #666;
            color: #999;
            cursor: not-allowed;
            transform: none;
        }

        .reel.spinning .reel-strip {
            animation: spin 0.1s linear infinite;
        }

        @keyframes spin {
            0% { transform: translateY(0); }
            100% { transform: translateY(-100px); }
        }

        @keyframes win-flash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .celebration {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            color: var(--win-color);
            padding: 20px 40px;
            border-radius: 15px;
            font-size: 48px;
            font-weight: bold;
            text-align: center;
            z-index: 1000;
            box-shadow: 0 0 30px var(--win-color);
            animation: celebration-pulse 2s ease-in-out;
        }

        @keyframes celebration-pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
        }

        /* Responsive design */
        @media (max-width: 900px) {
            :root {
                --machine-width: 90vw;
                --machine-height: auto;
                --reel-size: 120px;
            }
            
            .score-display {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .button-row {
                flex-wrap: wrap;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="slot-machine-container">
        <div class="slot-machine">
            <div class="machine-top">
                <div class="machine-title">NFL 4K SLOTS</div>
                <div class="flashing-lights">
                    <div class="light"></div>
                    <div class="light"></div>
                    <div class="light"></div>
                    <div class="light"></div>
                    <div class="light"></div>
                </div>
            </div>
            
            <div class="reels-container">
                <div class="reel" id="reel1"></div>
                <div class="reel" id="reel2"></div>
                <div class="reel" id="reel3"></div>
            </div>
            
            <div class="controls">
                <div class="score-display">
                    <div class="score-card">
                        <h3>CREDITS</h3>
                        <div class="score-value" id="credits">1000</div>
                    </div>
                    <div class="score-card">
                        <h3>BET</h3>
                        <div class="score-value" id="bet">1</div>
                    </div>
                    <div class="score-card">
                        <h3>WIN</h3>
                        <div class="score-value" id="win">0</div>
                    </div>
                </div>
                
                <div class="button-row">
                    <button class="control-button" id="bet-one">BET ONE</button>
                    <button class="control-button" id="bet-max">BET MAX</button>
                    <button class="spin-button" id="spin-button">SPIN</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game configuration with all NFL teams
        const CONFIG = {
            reels: 3,
            symbols: [
                'bills', 'dolphins', 'patriots', 'jets',
                'ravens', 'bengals', 'browns', 'steelers',
                'texans', 'colts', 'jaguars', 'titans',
                'broncos', 'chiefs', 'raiders', 'chargers',
                'cowboys', 'giants', 'eagles', 'commanders',
                'bears', 'lions', 'packers', 'vikings',
                'falcons', 'panthers', 'saints', 'buccaneers',
                'cardinals', 'rams', 'seahawks', '49ers'
            ],
            paylines: 25,
            minBet: 1,
            maxBet: 100,
            credits: 1000
        };

        class NFLSlots {
            constructor() {
                this.credits = CONFIG.credits;
                this.currentBet = CONFIG.minBet;
                this.spinning = false;
                this.win = 0;
                this.symbols = {};
                this.reelStrips = [];
                this.lightInterval = null;
                this.init();
            }

            async init() {
                await this.preloadImages();
                this.setupReels();
                this.updateDisplay();
                this.setupEventListeners();
                this.startIdleLights();
            }

            async preloadImages() {
                console.log('Preloading NFL team logos...');
                const preloadPromises = CONFIG.symbols.map(team => {
                    return new Promise((resolve) => {
                        const img = new Image();
                        img.onload = () => {
                            console.log(`Loaded logo for ${team}`);
                            resolve(img);
                        };
                        img.onerror = () => {
                            console.warn(`Failed to load logo for ${team}`);
                            // Create fallback image element with team name
                            const fallback = document.createElement('div');
                            fallback.textContent = team.toUpperCase();
                            fallback.style.cssText = 'font-weight:bold;font-size:12px;text-align:center;padding:10px;background:#f0f0f0;color:#333;border-radius:5px;';
                            resolve(fallback);
                        };
                        img.src = `logos/${team}.png`;
                        this.symbols[team] = img;
                    });
                });

                await Promise.all(preloadPromises);
                console.log('All logos loaded');
            }

            setupReels() {
                const reels = document.querySelectorAll('.reel');
                reels.forEach((reel, reelIndex) => {
                    // Start with the first team logo
                    this.setReelSymbol(reel, CONFIG.symbols[0]);
                });
            }

            setReelSymbol(reel, teamName) {
                // Clear the reel
                reel.innerHTML = '';
                
                // Create and add the team logo
                if (this.symbols[teamName] && this.symbols[teamName].tagName === 'IMG') {
                    const img = this.symbols[teamName].cloneNode();
                    img.alt = teamName;
                    reel.appendChild(img);
                } else if (this.symbols[teamName]) {
                    // Use fallback div
                    reel.appendChild(this.symbols[teamName].cloneNode(true));
                } else {
                    // Final fallback - create text element
                    const fallback = document.createElement('div');
                    fallback.textContent = teamName.toUpperCase();
                    fallback.style.cssText = 'font-weight:bold;font-size:14px;text-align:center;color:#333;';
                    reel.appendChild(fallback);
                }
            }

            updateDisplay() {
                document.getElementById('credits').textContent = this.credits;
                document.getElementById('bet').textContent = this.currentBet;
                document.getElementById('win').textContent = this.win;
            }

            setupEventListeners() {
                document.getElementById('spin-button').addEventListener('click', () => this.spin());
                document.getElementById('bet-one').addEventListener('click', () => this.adjustBet(1));
                document.getElementById('bet-max').addEventListener('click', () => this.setBetMax());
            }

            startIdleLights() {
                const lights = document.querySelectorAll('.light');
                let currentLight = 0;
                
                this.lightInterval = setInterval(() => {
                    lights.forEach(light => light.classList.remove('on'));
                    lights[currentLight].classList.add('on');
                    currentLight = (currentLight + 1) % lights.length;
                }, 300);
            }

            stopLights() {
                if (this.lightInterval) {
                    clearInterval(this.lightInterval);
                    this.lightInterval = null;
                }
                document.querySelectorAll('.light').forEach(light => light.classList.remove('on'));
            }

            startWinLights() {
                const lights = document.querySelectorAll('.light');
                this.lightInterval = setInterval(() => {
                    lights.forEach(light => {
                        light.classList.toggle('on', Math.random() > 0.5);
                    });
                }, 100);
                
                setTimeout(() => {
                    this.stopLights();
                    this.startIdleLights();
                }, 3000);
            }

            async spin() {
                if (this.spinning || this.credits < this.currentBet) {
                    if (this.credits < this.currentBet) {
                        alert('Not enough credits! You need at least ' + this.currentBet + ' credits to spin.');
                    }
                    return;
                }
                
                this.spinning = true;
                this.credits -= this.currentBet;
                this.win = 0;
                this.updateDisplay();
                
                // Stop idle lights
                this.stopLights();
                
                // Get reels and start spinning animation
                const reels = document.querySelectorAll('.reel');
                reels.forEach(reel => reel.classList.add('spinning'));
                
                // Spin duration for each reel (staggered)
                const spinDurations = [1500, 2000, 2500]; // milliseconds
                const finalSymbols = [];
                
                // Animate each reel with random symbols during spin
                const spinIntervals = reels.map((reel, reelIndex) => {
                    return setInterval(() => {
                        const randomTeam = CONFIG.symbols[Math.floor(Math.random() * CONFIG.symbols.length)];
                        this.setReelSymbol(reel, randomTeam);
                    }, 100);
                });
                
                // Stop each reel with final result
                for (let i = 0; i < reels.length; i++) {
                    await new Promise(resolve => {
                        setTimeout(() => {
                            // Stop the spinning animation for this reel
                            clearInterval(spinIntervals[i]);
                            reels[i].classList.remove('spinning');
                            
                            // Set final symbol
                            const finalTeam = CONFIG.symbols[Math.floor(Math.random() * CONFIG.symbols.length)];
                            finalSymbols.push(finalTeam);
                            this.setReelSymbol(reels[i], finalTeam);
                            
                            resolve();
                        }, spinDurations[i]);
                    });
                }
                
                // Check for win after all reels stop
                setTimeout(() => {
                    this.spinning = false;
                    this.checkWin(finalSymbols);
                    this.updateDisplay();
                }, 500);
            }

            checkWin(symbols) {
                console.log('Final symbols:', symbols);
                
                // Check for three of a kind
                if (symbols[0] === symbols[1] && symbols[1] === symbols[2]) {
                    // All three match
                    this.win = this.currentBet * 10;
                    this.credits += this.win;
                    this.celebrateWin(this.win, `THREE ${symbols[0].toUpperCase()}S!`);
                    return;
                }
                
                // Check for two of a kind
                if (symbols[0] === symbols[1] || symbols[1] === symbols[2] || symbols[0] === symbols[2]) {
                    this.win = this.currentBet * 2;
                    this.credits += this.win;
                    this.celebrateWin(this.win, 'TWO OF A KIND!');
                    return;
                }
                
                // No win
                console.log('No win this time');
                this.startIdleLights();
            }

            celebrateWin(amount, message) {
                console.log(`Win! Amount: ${amount}, Message: ${message}`);
                
                // Start winning lights
                this.startWinLights();
                
                // Create celebration overlay
                const celebration = document.createElement('div');
                celebration.className = 'celebration';
                celebration.innerHTML = `
                    <div>${message}</div>
                    <div>WIN: ${amount} CREDITS!</div>
                `;
                
                document.body.appendChild(celebration);
                
                setTimeout(() => {
                    celebration.remove();
                }, 3000);
            }

            adjustBet(amount) {
                if (!this.spinning) {
                    this.currentBet = Math.max(CONFIG.minBet, 
                                            Math.min(CONFIG.maxBet, this.currentBet + amount));
                    this.updateDisplay();
                }
            }

            setBetMax() {
                if (!this.spinning) {
                    this.currentBet = CONFIG.maxBet;
                    this.updateDisplay();
                }
            }
        }

        // Initialize game when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Initializing NFL Slots...');
            new NFLSlots();
        });
    </script>
</body>
</html>
</body>
</html>