<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="NFL Slots">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#013369">
  <title>NFL Slots - Championship Slot Machine</title>
  <style>
    :root {
      /* NFL Theme Colors */
      --nfl-blue: #013369;
      --nfl-red: #D50A0A;
      --nfl-silver: #A5ACAF;
      --nfl-gold: #FFB612;
      --primary-bg: linear-gradient(135deg, #000000 0%, #1a1a2e 50%, #16213e 100%);
      --secondary-bg: #111827;
      --machine-body: linear-gradient(145deg, #2d3748, #1a202c);
      --machine-face: #000000;
      --chrome: #4a5568;
      --gold: #FFB612;
      --red-led: #DC2626;
      --green-led: #10B981;
      --blue-led: #3B82F6;
      --border-color: #374151;
      --text-color: #FFFFFF;
      --highlight-color: #FFB612;
      --win-color: #10B981;
      --jackpot-color: #FFB612;
      --machine-width: 1000px;
      --machine-height: 1100px;
      --vh: calc(var(--vh, 1vh) * 100);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Arial Black', Arial, sans-serif;
      background: var(--primary-bg);
      color: var(--text-color);
      overflow-x: hidden;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 10px;
    }

    .game-container {
      width: 100%;
      max-width: var(--machine-width);
      height: 100vh;
      max-height: var(--machine-height);
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    .slot-machine {
      width: 100%;
      max-width: 900px;
      background: var(--machine-body);
      border: 8px solid var(--nfl-silver);
      border-radius: 25px;
      padding: 30px;
      box-shadow: 
        0 0 50px rgba(255, 182, 18, 0.3),
        inset 0 0 30px rgba(0, 0, 0, 0.5),
        0 25px 50px rgba(0, 0, 0, 0.8);
      position: relative;
      backdrop-filter: blur(10px);
      animation: machineGlow 3s ease-in-out infinite alternate;
    }

    @keyframes machineGlow {
      0% { box-shadow: 0 0 50px rgba(255, 182, 18, 0.3), inset 0 0 30px rgba(0, 0, 0, 0.5), 0 25px 50px rgba(0, 0, 0, 0.8); }
      100% { box-shadow: 0 0 80px rgba(255, 182, 18, 0.5), inset 0 0 30px rgba(0, 0, 0, 0.5), 0 25px 50px rgba(0, 0, 0, 0.8); }
    }

    .machine-header {
      text-align: center;
      margin-bottom: 30px;
      position: relative;
    }

    .nfl-logo {
      width: 120px;
      height: auto;
      margin-bottom: 15px;
      filter: drop-shadow(0 0 20px rgba(255, 182, 18, 0.8));
      animation: logoFloat 2s ease-in-out infinite alternate;
    }

    @keyframes logoFloat {
      0% { transform: translateY(0px); }
      100% { transform: translateY(-5px); }
    }

    .machine-title {
      font-size: clamp(24px, 4vw, 36px);
      font-weight: 900;
      color: var(--nfl-gold);
      text-shadow: 
        2px 2px 4px rgba(0, 0, 0, 0.8),
        0 0 20px rgba(255, 182, 18, 0.6);
      margin-bottom: 10px;
      letter-spacing: 2px;
    }

    .jackpot-display {
      font-size: clamp(16px, 2.5vw, 24px);
      font-weight: bold;
      color: var(--jackpot-color);
      text-shadow: 0 0 15px rgba(255, 182, 18, 0.8);
      background: linear-gradient(45deg, rgba(0, 0, 0, 0.8), rgba(30, 30, 60, 0.8));
      padding: 10px 20px;
      border-radius: 15px;
      border: 3px solid var(--nfl-gold);
      animation: jackpotPulse 2s ease-in-out infinite;
    }

    @keyframes jackpotPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .led-lights {
      position: absolute;
      top: -15px;
      left: 20px;
      right: 20px;
      height: 30px;
      display: flex;
      justify-content: space-around;
      align-items: center;
      z-index: 10;
    }

    .led-light {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #333;
      border: 2px solid var(--chrome);
      box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.8);
      transition: all 0.3s ease;
    }

    .led-light.active {
      background: var(--red-led);
      box-shadow: 
        0 0 20px var(--red-led),
        0 0 40px var(--red-led),
        inset 0 0 8px rgba(255, 255, 255, 0.3);
    }

    .led-light:nth-child(2n).active {
      background: var(--blue-led);
      box-shadow: 
        0 0 20px var(--blue-led),
        0 0 40px var(--blue-led),
        inset 0 0 8px rgba(255, 255, 255, 0.3);
    }

    .led-light:nth-child(3n).active {
      background: var(--green-led);
      box-shadow: 
        0 0 20px var(--green-led),
        0 0 40px var(--green-led),
        inset 0 0 8px rgba(255, 255, 255, 0.3);
    }

    .reels-container {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin: 30px 0;
      padding: 25px;
      background: linear-gradient(145deg, #000000, #1a1a2e);
      border: 6px solid var(--nfl-silver);
      border-radius: 20px;
      box-shadow: 
        inset 0 0 30px rgba(0, 0, 0, 0.8),
        0 0 20px rgba(255, 182, 18, 0.2);
      position: relative;
      overflow: hidden;
    }

    .reel {
      height: 240px;
      background: linear-gradient(180deg, #1a1a2e 0%, #000000 50%, #1a1a2e 100%);
      border: 4px solid var(--chrome);
      border-radius: 15px;
      overflow: hidden;
      position: relative;
      box-shadow: 
        inset 0 0 20px rgba(0, 0, 0, 0.8),
        0 0 15px rgba(255, 182, 18, 0.1);
    }

    .symbol-track {
      display: flex;
      flex-direction: column;
      height: 100%;
      justify-content: space-around;
      align-items: center;
      padding: 10px;
      transition: transform 0.1s ease;
    }

    .symbol-track.spinning {
      animation: reelSpin 2s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
    }

    .symbol-track.decelerating {
      animation: reelDecelerate 1.5s cubic-bezier(0.23, 1, 0.320, 1) forwards;
    }

    @keyframes reelSpin {
      0% { transform: translateY(0); }
      100% { transform: translateY(-300px); }
    }

    @keyframes reelDecelerate {
      0% { transform: translateY(-300px); }
      100% { transform: translateY(0); }
    }

    .symbol-track img {
      width: 80px;
      height: 80px;
      object-fit: contain;
      border-radius: 10px;
      transition: all 0.3s ease;
      filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.5));
    }

    .symbol-track img.win {
      transform: scale(1.1);
      filter: 
        drop-shadow(0 0 15px rgba(255, 182, 18, 0.8))
        drop-shadow(0 0 25px rgba(255, 182, 18, 0.6));
      animation: winGlow 1s ease-in-out infinite alternate;
    }

    @keyframes winGlow {
      0% { filter: drop-shadow(0 0 15px rgba(255, 182, 18, 0.8)) drop-shadow(0 0 25px rgba(255, 182, 18, 0.6)); }
      100% { filter: drop-shadow(0 0 25px rgba(255, 182, 18, 1)) drop-shadow(0 0 35px rgba(255, 182, 18, 0.8)); }
    }

    .payline {
      position: absolute;
      width: 100%;
      height: 4px;
      background: transparent;
      z-index: 5;
      transition: all 0.3s ease;
    }

    .payline.active {
      background: linear-gradient(90deg, 
        transparent 0%, 
        var(--nfl-gold) 20%, 
        var(--nfl-gold) 80%, 
        transparent 100%);
      box-shadow: 0 0 20px var(--nfl-gold);
      animation: paylineGlow 1s ease-in-out infinite alternate;
    }

    @keyframes paylineGlow {
      0% { opacity: 0.8; }
      100% { opacity: 1; }
    }

    .payline.line-1 { top: 25%; }
    .payline.line-2 { top: 50%; }
    .payline.line-3 { top: 75%; }

    .controls-section {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      gap: 20px;
      align-items: center;
      margin-top: 30px;
    }

    .info-displays {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
    }

    .info-card {
      background: linear-gradient(145deg, #1f2937, #111827);
      border: 3px solid var(--nfl-silver);
      border-radius: 12px;
      padding: 15px;
      text-align: center;
      box-shadow: 
        inset 0 0 15px rgba(0, 0, 0, 0.5),
        0 0 10px rgba(255, 182, 18, 0.2);
    }

    .info-label {
      font-size: 14px;
      font-weight: bold;
      color: var(--nfl-silver);
      margin-bottom: 5px;
      letter-spacing: 1px;
    }

    .info-value {
      font-size: clamp(18px, 3vw, 24px);
      font-weight: 900;
      color: var(--nfl-gold);
      text-shadow: 0 0 10px rgba(255, 182, 18, 0.6);
    }

    .spin-button {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: linear-gradient(145deg, var(--nfl-red), #dc2626);
      border: 6px solid var(--nfl-gold);
      color: white;
      font-size: 20px;
      font-weight: 900;
      letter-spacing: 1px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 
        0 0 30px rgba(213, 10, 10, 0.5),
        inset 0 0 20px rgba(255, 255, 255, 0.1),
        0 8px 15px rgba(0, 0, 0, 0.4);
      position: relative;
      overflow: hidden;
    }

    .spin-button:hover {
      transform: translateY(-3px);
      box-shadow: 
        0 0 40px rgba(213, 10, 10, 0.7),
        inset 0 0 20px rgba(255, 255, 255, 0.2),
        0 12px 25px rgba(0, 0, 0, 0.6);
    }

    .spin-button:active {
      transform: translateY(0);
      box-shadow: 
        0 0 20px rgba(213, 10, 10, 0.5),
        inset 0 0 20px rgba(0, 0, 0, 0.3),
        0 4px 10px rgba(0, 0, 0, 0.6);
    }

    .spin-button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .betting-controls {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      justify-self: end;
    }

    .bet-button {
      padding: 12px 20px;
      background: linear-gradient(145deg, var(--nfl-blue), #1e40af);
      border: 3px solid var(--nfl-silver);
      border-radius: 10px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .bet-button:hover {
      background: linear-gradient(145deg, #1e40af, var(--nfl-blue));
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
    }

    .game-controls {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 25px;
      flex-wrap: wrap;
    }

    .control-button {
      padding: 12px 24px;
      background: linear-gradient(145deg, #374151, #1f2937);
      border: 3px solid var(--nfl-silver);
      border-radius: 10px;
      color: var(--nfl-gold);
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .control-button:hover {
      background: linear-gradient(145deg, var(--nfl-gold), #f59e0b);
      color: #000;
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
    }

    .win-overlay {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      background: linear-gradient(145deg, rgba(0, 0, 0, 0.95), rgba(30, 30, 60, 0.95));
      border: 6px solid var(--nfl-gold);
      border-radius: 20px;
      padding: 40px;
      text-align: center;
      z-index: 1000;
      backdrop-filter: blur(20px);
      box-shadow: 
        0 0 50px rgba(255, 182, 18, 0.8),
        inset 0 0 30px rgba(0, 0, 0, 0.5);
      transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    .win-overlay.visible {
      transform: translate(-50%, -50%) scale(1);
    }

    .win-text {
      font-size: clamp(24px, 5vw, 48px);
      font-weight: 900;
      color: var(--nfl-gold);
      text-shadow: 0 0 20px rgba(255, 182, 18, 0.8);
      margin-bottom: 20px;
      animation: winTextGlow 1s ease-in-out infinite alternate;
    }

    @keyframes winTextGlow {
      0% { text-shadow: 0 0 20px rgba(255, 182, 18, 0.8); }
      100% { text-shadow: 0 0 30px rgba(255, 182, 18, 1), 0 0 50px rgba(255, 182, 18, 0.6); }
    }

    .win-amount {
      font-size: clamp(20px, 4vw, 36px);
      font-weight: bold;
      color: var(--win-color);
      text-shadow: 0 0 15px rgba(16, 185, 129, 0.8);
    }

    .paytable {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
      max-width: 500px;
      max-height: 80vh;
      background: linear-gradient(145deg, #1f2937, #111827);
      border: 6px solid var(--nfl-gold);
      border-radius: 20px;
      padding: 30px;
      color: white;
      z-index: 2000;
      display: none;
      overflow-y: auto;
      box-shadow: 
        0 0 50px rgba(255, 182, 18, 0.5),
        inset 0 0 30px rgba(0, 0, 0, 0.5);
    }

    .paytable.visible {
      display: block;
      animation: paytableSlideIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    @keyframes paytableSlideIn {
      0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }

    .paytable-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.8);
      z-index: 1999;
      display: none;
      backdrop-filter: blur(10px);
    }

    .paytable-overlay.visible {
      display: block;
    }

    .paytable-title {
      text-align: center;
      font-size: 28px;
      font-weight: 900;
      color: var(--nfl-gold);
      margin-bottom: 25px;
      text-shadow: 0 0 15px rgba(255, 182, 18, 0.6);
    }

    .paytable-section {
      margin-bottom: 25px;
    }

    .paytable-section h3 {
      font-size: 20px;
      color: var(--nfl-silver);
      margin-bottom: 15px;
      border-bottom: 2px solid var(--nfl-gold);
      padding-bottom: 5px;
    }

    .payout-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px;
      margin-bottom: 8px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      border: 1px solid rgba(255, 182, 18, 0.2);
    }

    .payout-symbols {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .payout-symbols img {
      width: 32px;
      height: 32px;
      object-fit: contain;
    }

    .payout-value {
      font-weight: bold;
      color: var(--nfl-gold);
    }

    .paytable-close {
      position: absolute;
      top: 15px;
      right: 20px;
      background: var(--nfl-red);
      border: none;
      color: white;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .paytable-close:hover {
      background: #dc2626;
      transform: scale(1.1);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      body { padding: 5px; }
      
      .slot-machine {
        max-width: 100%;
        padding: 20px;
        border-width: 4px;
      }
      
      .machine-title {
        font-size: 24px;
      }
      
      .reels-container {
        gap: 10px;
        padding: 15px;
      }
      
      .reel {
        height: 180px;
      }
      
      .symbol-track img {
        width: 60px;
        height: 60px;
      }
      
      .controls-section {
        grid-template-columns: 1fr;
        gap: 20px;
        text-align: center;
      }
      
      .spin-button {
        width: 100px;
        height: 100px;
        font-size: 16px;
        justify-self: center;
      }
      
      .betting-controls {
        justify-self: center;
      }
      
      .info-displays {
        grid-template-columns: 1fr;
        gap: 10px;
      }
      
      .game-controls {
        margin-top: 15px;
      }
      
      .control-button {
        padding: 10px 16px;
        font-size: 12px;
      }
      
      .led-lights {
        top: -10px;
        left: 10px;
        right: 10px;
      }
      
      .led-light {
        width: 16px;
        height: 16px;
      }
    }

    @media (max-width: 480px) {
      .slot-machine {
        padding: 15px;
      }
      
      .reel {
        height: 150px;
      }
      
      .symbol-track img {
        width: 50px;
        height: 50px;
      }
      
      .spin-button {
        width: 80px;
        height: 80px;
        font-size: 14px;
      }
      
      .info-value {
        font-size: 18px;
      }
      
      .machine-title {
        font-size: 20px;
      }
      
      .jackpot-display {
        font-size: 16px;
        padding: 8px 16px;
      }
    }

    /* 4K Optimization */
    @media (min-width: 2560px) {
      .slot-machine {
        max-width: 1200px;
        padding: 40px;
      }
      
      .machine-title {
        font-size: 48px;
      }
      
      .jackpot-display {
        font-size: 32px;
        padding: 15px 30px;
      }
      
      .reel {
        height: 320px;
      }
      
      .symbol-track img {
        width: 100px;
        height: 100px;
      }
      
      .spin-button {
        width: 150px;
        height: 150px;
        font-size: 24px;
      }
      
      .info-value {
        font-size: 32px;
      }
      
      .led-light {
        width: 24px;
        height: 24px;
      }
    }

    /* Vibration Effects */
    .slot-machine.vibrate {
      animation: machineVibrate 0.1s linear infinite;
    }

    @keyframes machineVibrate {
      0% { transform: translateX(0); }
      25% { transform: translateX(-2px); }
      50% { transform: translateX(2px); }
      75% { transform: translateX(-1px); }
      100% { transform: translateX(1px); }
    }

    /* Special Animations */
    .jackpot-celebration {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 999;
      background: radial-gradient(circle at center, 
        rgba(255, 182, 18, 0.3) 0%, 
        transparent 70%);
      animation: jackpotCelebration 3s ease-out;
    }

    @keyframes jackpotCelebration {
      0% { opacity: 0; transform: scale(0.5); }
      50% { opacity: 1; transform: scale(1.2); }
      100% { opacity: 0; transform: scale(1); }
    }

    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background: var(--nfl-gold);
      animation: confettiDrop 3s linear infinite;
    }

    @keyframes confettiDrop {
      0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }
  </style>
</head>
<body>
  <div class="game-container">
    <div class="slot-machine">
      <!-- LED Lights -->
      <div class="led-lights">
        <div class="led-light"></div>
        <div class="led-light"></div>
        <div class="led-light"></div>
        <div class="led-light"></div>
        <div class="led-light"></div>
        <div class="led-light"></div>
        <div class="led-light"></div>
        <div class="led-light"></div>
        <div class="led-light"></div>
        <div class="led-light"></div>
        <div class="led-light"></div>
        <div class="led-light"></div>
      </div>

      <!-- Machine Header -->
      <div class="machine-header">
        <img src="./logos/nfl.png" alt="NFL Logo" class="nfl-logo">
        <h1 class="machine-title">NFL CHAMPIONSHIP SLOTS</h1>
        <div class="jackpot-display" id="jackpot">
          JACKPOT: <span id="jackpot-amount">50,000</span>
        </div>
      </div>

      <!-- Reels Container -->
      <div class="reels-container">
        <div class="payline line-1" data-line="0"></div>
        <div class="payline line-2" data-line="1"></div>
        <div class="payline line-3" data-line="2"></div>
        
        <div class="reel" id="reel1">
          <div class="symbol-track">
            <img src="./logos/nfl.png" alt="NFL" data-symbol="NFL Shield">
            <img src="./logos/chiefs.png" alt="Chiefs" data-symbol="Chiefs">
            <img src="./logos/patriots.png" alt="Patriots" data-symbol="Patriots">
          </div>
        </div>
        
        <div class="reel" id="reel2">
          <div class="symbol-track">
            <img src="./logos/packers.png" alt="Packers" data-symbol="Packers">
            <img src="./logos/cowboys.png" alt="Cowboys" data-symbol="Cowboys">
            <img src="./logos/steelers.png" alt="Steelers" data-symbol="Steelers">
          </div>
        </div>
        
        <div class="reel" id="reel3">
          <div class="symbol-track">
            <img src="./logos/49ers.png" alt="49ers" data-symbol="49ers">
            <img src="./logos/eagles.png" alt="Eagles" data-symbol="Eagles">
            <img src="./logos/falcons.png" alt="Falcons" data-symbol="Falcons">
          </div>
        </div>
      </div>

      <!-- Controls Section -->
      <div class="controls-section">
        <!-- Info Displays -->
        <div class="info-displays">
          <div class="info-card">
            <div class="info-label">CREDITS</div>
            <div class="info-value" id="credits">1,000</div>
          </div>
          <div class="info-card">
            <div class="info-label">BET</div>
            <div class="info-value" id="bet-amount">25</div>
          </div>
          <div class="info-card">
            <div class="info-label">WIN</div>
            <div class="info-value" id="win-amount">0</div>
          </div>
        </div>

        <!-- Spin Button -->
        <button class="spin-button" id="spin-button">
          SPIN
        </button>

        <!-- Betting Controls -->
        <div class="betting-controls">
          <button class="bet-button bet-down">BET -</button>
          <button class="bet-button bet-up">BET +</button>
          <button class="bet-button max-bet">MAX BET</button>
          <button class="bet-button autoplay-button">AUTO</button>
        </div>
      </div>

      <!-- Game Controls -->
      <div class="game-controls">
        <button class="control-button paytable-button">PAYTABLE</button>
        <button class="control-button" onclick="toggleSound()">SOUND</button>
        <button class="control-button" onclick="toggleFullscreen()">FULLSCREEN</button>
      </div>
    </div>
  </div>

  <!-- Win Overlay -->
  <div class="win-overlay" id="winOverlay">
    <div class="win-text">YOU WIN!</div>
    <div class="win-amount" id="win-display">$0</div>
  </div>

  <!-- Paytable Overlay -->
  <div class="paytable-overlay"></div>
  
  <!-- Paytable Modal -->
  <div class="paytable">
    <button class="paytable-close">&times;</button>
    <h2 class="paytable-title">NFL CHAMPIONSHIP PAYOUTS</h2>
    
    <div class="paytable-section">
      <h3>🏆 JACKPOT SYMBOLS</h3>
      <div class="payout-item">
        <div class="payout-symbols">
          <img src="./logos/trophy.png" alt="Trophy">
          <img src="./logos/trophy.png" alt="Trophy">
          <img src="./logos/trophy.png" alt="Trophy">
          <span>SUPER BOWL TROPHY</span>
        </div>
        <div class="payout-value">JACKPOT!</div>
      </div>
    </div>

    <div class="paytable-section">
      <h3>🏈 PREMIUM SYMBOLS</h3>
      <div class="payout-item">
        <div class="payout-symbols">
          <img src="./logos/afc.png" alt="AFC">
          <img src="./logos/afc.png" alt="AFC">
          <img src="./logos/afc.png" alt="AFC">
          <span>AFC CHAMPIONSHIP</span>
        </div>
        <div class="payout-value">1000x</div>
      </div>
      <div class="payout-item">
        <div class="payout-symbols">
          <img src="./logos/nfc.png" alt="NFC">
          <img src="./logos/nfc.png" alt="NFC">
          <img src="./logos/nfc.png" alt="NFC">
          <span>NFC CHAMPIONSHIP</span>
        </div>
        <div class="payout-value">1000x</div>
      </div>
      <div class="payout-item">
        <div class="payout-symbols">
          <img src="./logos/nfl.png" alt="NFL">
          <img src="./logos/nfl.png" alt="NFL">
          <img src="./logos/nfl.png" alt="NFL">
          <span>NFL SHIELD (WILD)</span>
        </div>
        <div class="payout-value">500x</div>
      </div>
    </div>

    <div class="paytable-section">
      <h3>🏟️ TEAM SYMBOLS</h3>
      <div class="payout-item">
        <div class="payout-symbols">
          <img src="./logos/patriots.png" alt="Patriots">
          <img src="./logos/patriots.png" alt="Patriots">
          <img src="./logos/patriots.png" alt="Patriots">
          <span>PATRIOTS</span>
        </div>
        <div class="payout-value">150x</div>
      </div>
      <div class="payout-item">
        <div class="payout-symbols">
          <img src="./logos/chiefs.png" alt="Chiefs">
          <img src="./logos/chiefs.png" alt="Chiefs">
          <img src="./logos/chiefs.png" alt="Chiefs">
          <span>CHIEFS</span>
        </div>
        <div class="payout-value">140x</div>
      </div>
      <div class="payout-item">
        <div class="payout-symbols">
          <img src="./logos/eagles.png" alt="Eagles">
          <img src="./logos/eagles.png" alt="Eagles">
          <img src="./logos/eagles.png" alt="Eagles">
          <span>EAGLES</span>
        </div>
        <div class="payout-value">130x</div>
      </div>
      <div class="payout-item">
        <div class="payout-symbols">
          <img src="./logos/packers.png" alt="Packers">
          <img src="./logos/packers.png" alt="Packers">
          <img src="./logos/packers.png" alt="Packers">
          <span>PACKERS / COWBOYS / STEELERS</span>
        </div>
        <div class="payout-value">125x</div>
      </div>
      <div class="payout-item">
        <div class="payout-symbols">
          <img src="./logos/49ers.png" alt="49ers">
          <img src="./logos/49ers.png" alt="49ers">
          <img src="./logos/49ers.png" alt="49ers">
          <span>49ERS</span>
        </div>
        <div class="payout-value">110x</div>
      </div>
      <div class="payout-item">
        <div class="payout-symbols">
          <img src="./logos/falcons.png" alt="Falcons">
          <img src="./logos/falcons.png" alt="Falcons">
          <img src="./logos/falcons.png" alt="Falcons">
          <span>FALCONS & OTHER TEAMS</span>
        </div>
        <div class="payout-value">100x</div>
      </div>
    </div>

    <div class="paytable-section">
      <h3>ℹ️ GAME INFO</h3>
      <p style="margin-bottom: 10px;"><strong>Wild Symbol:</strong> NFL Shield substitutes for all symbols except Trophy</p>
      <p style="margin-bottom: 10px;"><strong>Jackpot:</strong> 3 Trophy symbols anywhere on reels</p>
      <p style="margin-bottom: 10px;"><strong>Paylines:</strong> 3 horizontal lines pay left to right</p>
      <p style="margin-bottom: 10px;"><strong>Minimum Bet:</strong> 5 credits</p>
      <p><strong>Maximum Bet:</strong> 100 credits</p>
    </div>
  </div>

  <script>
    // Global variables for additional functionality
    let soundEnabled = true;
    let isFullscreen = false;
    let currentSpinSound = null;

    // Sound toggle function
    function toggleSound() {
      soundEnabled = !soundEnabled;
      const button = event.target;
      button.textContent = soundEnabled ? 'SOUND' : 'MUTED';
      button.style.opacity = soundEnabled ? '1' : '0.6';
      
      if (window.nflSlots) {
        // Update sound volume in the game instance
        Object.values(window.nflSlots.sounds).forEach(sound => {
          if (sound) {
            sound.volume = soundEnabled ? 0.7 : 0;
          }
        });
      }
    }

    // Enhanced audio management for proper spin/stop synchronization
    function enhanceAudioSystem() {
      if (!window.nflSlots || !window.nflSlots.sounds) return;

      // Store original playSound function
      const originalPlaySound = window.nflSlots.playSound.bind(window.nflSlots);
      
      // Override playSound to handle spin looping
      window.nflSlots.playSound = function(soundName) {
        if (!soundEnabled) return;
        
        try {
          const sound = this.sounds[soundName];
          if (!sound) return;

          // Special handling for spin sound
          if (soundName === 'spin') {
            // Stop any existing spin sound first
            stopSpinSound();
            currentSpinSound = sound;
            sound.loop = true; // Enable looping
            sound.currentTime = 0;
            sound.volume = soundEnabled ? 0.7 : 0;
            
            const playPromise = sound.play();
            if (playPromise !== undefined) {
              playPromise.catch(e => {
                console.warn(`Failed to play spin sound:`, e);
              });
            }
          } else {
            // For other sounds, use original behavior but allow overlapping
            sound.currentTime = 0;
            sound.volume = soundEnabled ? 0.7 : 0;
            
            const playPromise = sound.play();
            if (playPromise !== undefined) {
              playPromise.catch(e => {
                console.warn(`Failed to play sound '${soundName}':`, e);
              });
            }
          }
        } catch (e) {
          console.warn('Error playing sound:', e);
        }
      };

      // Store original spin function
      const originalSpin = window.nflSlots.spin.bind(window.nflSlots);
      
      // Override spin function to properly manage audio timing
      window.nflSlots.spin = async function(isAutoplay = false) {
        if (this.isSpinning) return;
        if (this.credits < this.bet) {
          this.showMessage('Not enough credits!');
          this.autoplay = false;
          return;
        }

        // Deduct bet
        this.credits -= this.bet;
        if (this.autoplay) {
          this.autoplaySpins--;
          this.elements.autoplayButton && (this.elements.autoplayButton.textContent = `Auto (${this.autoplaySpins})`);
        }

        this.isSpinning = true;
        this.elements.spinButton && (this.elements.spinButton.disabled = true);
        this.updateDisplays();

        // Clear previous win state
        this.hideWinOverlay();
        this.clearSymbolHighlights();
        this.hidePaylines();

        // Start spinning effects
        this.startSpinEffects();
        this.playSound('spin'); // This will now loop properly

        // Generate final result
        const finalGrid = [
          this.getRandomReelSymbols(),
          this.getRandomReelSymbols(), 
          this.getRandomReelSymbols()
        ];

        // Spin each reel with staggered stops
        const spinPromises = this.elements.reels.map(async (reel, index) => {
          const track = reel.querySelector('.symbol-track');
          if (!track) return;

          track.classList.add('spinning');

          // Wait for reel-specific delay
          await this.delay(this.spinDuration + (index * this.reelStopDelay));

          // Stop spinning and set final symbols
          track.classList.remove('spinning');
          track.classList.add('decelerating');

          // Set final symbols
          this.setReelSymbols(index, finalGrid[index]);
          
          // Play stop sound for each reel
          this.playSound('stop');
          
          // If this is the last reel (index 2), stop the spin sound immediately
          if (index === 2) {
            stopSpinSound();
          }

          // Remove deceleration class after animation
          setTimeout(() => {
            track.classList.remove('decelerating');
          }, 1500);
        });

        // Wait for all reels to stop
        await Promise.all(spinPromises);

        // Stop spinning effects
        this.stopSpinEffects();

        // Calculate and handle win
        const result = this.calculateWin(finalGrid);
        await this.handleWinResult(result, finalGrid);

        // Re-enable controls
        this.isSpinning = false;
        this.elements.spinButton && (this.elements.spinButton.disabled = false);
      };
    }

    // Function to stop spin sound immediately
    function stopSpinSound() {
      if (currentSpinSound) {
        try {
          currentSpinSound.pause();
          currentSpinSound.currentTime = 0;
          currentSpinSound.loop = false;
          currentSpinSound = null;
        } catch (e) {
          console.warn('Error stopping spin sound:', e);
        }
      }
    }

    // Fullscreen toggle function
    function toggleFullscreen() {
      const gameContainer = document.querySelector('.game-container');
      
      if (!isFullscreen) {
        if (gameContainer.requestFullscreen) {
          gameContainer.requestFullscreen();
        } else if (gameContainer.webkitRequestFullscreen) {
          gameContainer.webkitRequestFullscreen();
        } else if (gameContainer.mozRequestFullScreen) {
          gameContainer.mozRequestFullScreen();
        }
      } else {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        } else if (document.webkitExitFullscreen) {
          document.webkitExitFullscreen();
        } else if (document.mozCancelFullScreen) {
          document.mozCancelFullScreen();
        }
      }
    }

    // Fullscreen change handler
    document.addEventListener('fullscreenchange', handleFullscreenChange);
    document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
    document.addEventListener('mozfullscreenchange', handleFullscreenChange);

    function handleFullscreenChange() {
      isFullscreen = !!(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement);
      const button = document.querySelector('.control-button:last-child');
      if (button) {
        button.textContent = isFullscreen ? 'EXIT FULLSCREEN' : 'FULLSCREEN';
      }
    }

    // Paytable functionality
    document.addEventListener('DOMContentLoaded', function() {
      const paytableButton = document.querySelector('.paytable-button');
      const paytableClose = document.querySelector('.paytable-close');
      const paytable = document.querySelector('.paytable');
      const paytableOverlay = document.querySelector('.paytable-overlay');

      function showPaytable() {
        paytable.classList.add('visible');
        paytableOverlay.classList.add('visible');
      }

      function hidePaytable() {
        paytable.classList.remove('visible');
        paytableOverlay.classList.remove('visible');
      }

      paytableButton?.addEventListener('click', showPaytable);
      paytableClose?.addEventListener('click', hidePaytable);
      paytableOverlay?.addEventListener('click', hidePaytable);

      // Prevent paytable from closing when clicking inside it
      paytable?.addEventListener('click', function(e) {
        e.stopPropagation();
      });

      // Enhance audio system after game loads
      setTimeout(() => {
        enhanceAudioSystem();
      }, 100);
    });

    // Initialize confetti effect for big wins
    function createConfetti() {
      const colors = ['#FFB612', '#013369', '#D50A0A', '#A5ACAF'];
      const confettiCount = 50;
      
      for (let i = 0; i < confettiCount; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.animationDelay = Math.random() * 3 + 's';
        confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
        document.body.appendChild(confetti);
        
        setTimeout(() => {
          confetti.remove();
        }, 5000);
      }
    }

    // Jackpot celebration effect
    function createJackpotCelebration() {
      const celebration = document.createElement('div');
      celebration.className = 'jackpot-celebration';
      document.body.appendChild(celebration);
      
      createConfetti();
      
      setTimeout(() => {
        celebration.remove();
      }, 3000);
    }

    // Mobile viewport height fix
    function setVH() {
      let vh = window.innerHeight * 0.01;
      document.documentElement.style.setProperty('--vh', `${vh}px`);
    }

    setVH();
    window.addEventListener('resize', setVH);
    window.addEventListener('orientationchange', () => {
      setTimeout(setVH, 100);
    });

    // Touch handling for better mobile experience
    document.addEventListener('touchstart', function() {}, { passive: true });
  </script>

  <!-- Load NFL Slots Module -->
  <script type="module" src="./nfl.js"></script>
</body>
</html>