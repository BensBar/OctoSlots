<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="OctoSlots">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#000000">
  <meta name="theme-color" content="#000000">
  <title>OctoSlots - Professional Slot Machine</title>
  <style>
    :root {
      /* Dark Mode - Casino Night Theme (Default) */
      --primary-bg: #000000;
      --secondary-bg: #111111;
      --machine-body: #654321;
      --machine-face: #000000;
      --chrome: #2a2a2a;
      --gold: #FFD700;
      --red-led: #FF0000;
      --green-led: #00FF00;
      --blue-led: #0066FF;
      --border-color: #333;
      --text-color: #FFFFFF;
      --highlight-color: #FFD700;
      --gold-color: #FFD700;
      --win-color: #00FF00;
      --header-height: 80px;
      --machine-width: 900px;
      --machine-height: 950px;
    }
    body.light-mode {
      /* Light Mode - Bright Casino/Arcade Theme */
      --primary-bg: #FFFFFF;
      --secondary-bg: #F8F9FA;
      --machine-body: #E3F2FD;
      --machine-face: #FFFFFF;
      --chrome: #607D8B;
      --gold: #FF9800;
      --red-led: #F44336;
      --green-led: #4CAF50;
      --blue-led: #2196F3;
      --border-color: #E0E0E0;
      --text-color: #212121;
      --highlight-color: #FF9800;
      --gold-color: #FF9800;
      --win-color: #4CAF50;
    }
    
    /* Light Mode Body - only applied when light-mode class is present */
    body.light-mode {
      background: radial-gradient(circle at center, #F5F5F5 0%, #FFFFFF 100%);
    }
    
    /* Light Mode Slot Machine Container */
    body.light-mode .slot-machine-container {
      background: radial-gradient(ellipse at center, rgba(33, 150, 243, 0.1) 0%, transparent 70%);
    }
    
    /* Light Mode Machine Styling */
    body.light-mode .slot-machine {
      background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 50%, #E3F2FD 100%);
      border: 8px solid var(--chrome);
      box-shadow: 
        0 0 40px rgba(0, 0, 0, 0.2),
        inset 0 0 20px rgba(33, 150, 243, 0.1),
        inset 0 -10px 20px rgba(0, 0, 0, 0.05);
    }
    
    /* Light Mode Machine Glow */
    body.light-mode .machine-glow {
      background: radial-gradient(ellipse at center, rgba(33, 150, 243, 0.3) 0%, transparent 70%);
    }
    
    /* Light Mode Machine Top */
    body.light-mode .machine-top {
      background: linear-gradient(135deg, #FFFFFF 0%, #F5F5F5 100%);
      border: 4px solid var(--chrome);
      box-shadow: 
        inset 0 0 20px rgba(0, 0, 0, 0.1),
        0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    /* Light Mode Jackpot Display */
    body.light-mode .jackpot-display {
      color: var(--gold);
      text-shadow: 
        0 0 20px rgba(255, 152, 0, 0.8),
        0 0 40px rgba(255, 152, 0, 0.6),
        2px 2px 4px rgba(0, 0, 0, 0.3);
    }
    
    /* Light Mode Reels Container */
    body.light-mode .reels-container {
      background: linear-gradient(135deg, #FFFFFF 0%, #F8F9FA 100%);
      border: 4px solid var(--chrome);
      box-shadow: 
        inset 0 0 30px rgba(0, 0, 0, 0.1),
        0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    /* Light Mode Reels */
    body.light-mode .reel {
      background: linear-gradient(135deg, #FAFAFA 0%, #F0F0F0 50%, #FAFAFA 100%);
      border: 3px solid var(--chrome);
      box-shadow: 
        inset 0 0 30px rgba(0, 0, 0, 0.1),
        0 0 10px rgba(33, 150, 243, 0.2);
    }
    
    /* Light Mode Controls */
    body.light-mode .controls {
      background: linear-gradient(135deg, #FFFFFF 0%, #F5F5F5 100%);
      border: 4px solid var(--chrome);
      box-shadow: 
        inset 0 0 20px rgba(0, 0, 0, 0.1),
        0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    /* Light Mode Score Cards */
    body.light-mode .score-card {
      background: linear-gradient(135deg, #FFFFFF 0%, #F8F9FA 100%);
      border: 3px solid var(--chrome);
      color: var(--text-color);
      box-shadow: 
        inset 0 0 20px rgba(0, 0, 0, 0.05),
        0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    /* Light Mode Score Card Text */
    body.light-mode .score-card h3 {
      color: var(--text-color);
      text-shadow: none;
    }
    
    body.light-mode .score-value {
      color: var(--gold);
      text-shadow: 
        0 0 10px rgba(255, 152, 0, 0.8),
        2px 2px 4px rgba(0, 0, 0, 0.2);
    }
    /* Light Mode Header */
    body.light-mode .app-header {
      background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
      border-bottom: 4px solid var(--gold);
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    }
    
    body.light-mode .user-info, 
    body.light-mode .date-info,
    body.light-mode .game-title {
      color: #FFFFFF;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }
    
    /* Light Mode Theme Toggle */
    body.light-mode #theme-toggle {
      background: linear-gradient(135deg, var(--gold) 0%, #F57C00 100%);
      border: 3px solid #FFFFFF;
      color: #FFFFFF;
    }
    /* Light Mode Spin Button */
    body.light-mode .spin-button {
      background: linear-gradient(135deg, var(--red-led) 0%, #D32F2F 50%, #C62828 100%);
      border: 6px solid var(--chrome);
      color: white;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
    }
    
    body.light-mode .spin-button:hover {
      background: linear-gradient(135deg, #FF5722 0%, var(--red-led) 50%, #D32F2F 100%);
    }
    
    body.light-mode .spin-button:disabled {
      background: linear-gradient(135deg, #BDBDBD 0%, #9E9E9E 50%, #757575 100%);
      color: #FFFFFF;
    }
    /* Light Mode Win Message */
    body.light-mode .win-message {
      background: linear-gradient(135deg, var(--gold) 0%, #F57C00 100%) !important;
      border: 6px solid #FFFFFF !important;
      color: #FFFFFF !important;
      box-shadow: 
        0 0 50px rgba(255, 152, 0, 0.8),
        0 0 100px rgba(255, 152, 0, 0.4),
        inset 0 0 20px rgba(255, 255, 255, 0.3);
    }
    
    body.light-mode .win-message h2 {
      color: #FFFFFF !important;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
    }
    
    body.light-mode .win-message p {
      color: #FFFFFF !important;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    }
    
    body.light-mode .win-message button {
      background: linear-gradient(135deg, var(--red-led) 0%, #D32F2F 100%);
      border: 4px solid #FFFFFF;
    }
    
    /* Light Mode Paytable */
    body.light-mode .paytable {
      background: linear-gradient(135deg, #FFFFFF 0%, #F5F5F5 100%) !important;
      border: 4px solid var(--chrome) !important;
      color: var(--text-color) !important;
      box-shadow: 
        0 8px 20px rgba(0, 0, 0, 0.15),
        inset 0 0 20px rgba(33, 150, 243, 0.1);
    }
    
    body.light-mode .paytable h3 {
      color: var(--gold) !important;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
    }
    
    body.light-mode .paytable-item {
      background: rgba(33, 150, 243, 0.05);
      border: 1px solid var(--chrome);
    }
    
    body.light-mode .paytable-item span {
      color: var(--text-color) !important;
      text-shadow: none;
    }
    
    body.light-mode .paytable-button {
      background: linear-gradient(135deg, var(--gold) 0%, #F57C00 100%) !important;
      border: 4px solid var(--chrome) !important;
      color: #FFFFFF !important;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    }
    
    /* Dark Mode Specific Overrides */
    body:not(.light-mode) .slot-machine {
      border: 8px solid #000 !important;
    }
    
    body:not(.light-mode) .machine-top {
      border: 4px solid #000 !important;
    }
    
    body:not(.light-mode) .reels-container {
      border: 4px solid #000 !important;
    }
    
    body:not(.light-mode) .reel {
      border: 3px solid #000 !important;
    }
    
    body:not(.light-mode) .controls {
      border: 4px solid #000 !important;
    }
    
    body:not(.light-mode) .score-card {
      border: 3px solid #000 !important;
    }
    
    body:not(.light-mode) .spin-button {
      border: 6px solid #000 !important;
    }
    
    body:not(.light-mode) .win-message {
      border: 6px solid #000 !important;
    }
    
    body:not(.light-mode) .win-message button {
      border: 4px solid #000 !important;
    }
    
    body:not(.light-mode) #theme-toggle {
      border: 3px solid #000 !important;
    }
    
    body:not(.light-mode) .paytable-button {
      border: 4px solid #000 !important;
    }
    
    body:not(.light-mode) .paytable {
      border: 4px solid #000 !important;
    }
    
    body:not(.light-mode) .paytable-item {
      border: 1px solid #000 !important;
    }
    
    body:not(.light-mode) .light {
      border: 2px solid #000 !important;
    }
    
    body:not(.light-mode) .lever {
      border: 3px solid #000 !important;
    }
    
    body:not(.light-mode) .lever::after {
      border: 3px solid #000 !important;
    }
    
    body:not(.light-mode) .lever-base {
      border: 3px solid #000 !important;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Arial Black", "Helvetica Neue", Arial, sans-serif;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      touch-action: manipulation;
    }
    
    body {
      background: #000000; /* Solid black background for dark mode */
      color: var(--text-color);
      overflow: hidden;
      height: 100vh;
      width: 100vw;
      display: flex;
      flex-direction: column;
      position: fixed;
      top: 0;
      left: 0;
      font-size: 18px;
      /* iOS Safari specific */
      -webkit-overflow-scrolling: touch;
      /* Prevent iOS Safari bounce */
      overscroll-behavior: none;
      /* Handle iPhone notch */
      padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
    }
    .app-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 30px;
      height: var(--header-height);
      background: linear-gradient(135deg, var(--machine-body) 0%, #654321 100%);
      border-bottom: 4px solid var(--gold);
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 10;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
    }
    
    .user-info, .date-info {
      font-size: 18px;
      color: var(--gold);
      white-space: nowrap;
      font-weight: bold;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
    }
    
    .game-title {
      font-size: 28px;
      font-weight: 900;
      color: var(--gold);
      margin: 0 20px;
      flex-shrink: 0;
      text-shadow: 3px 3px 6px rgba(0,0,0,0.8);
      letter-spacing: 2px;
    }
    #theme-toggle {
      background: linear-gradient(135deg, var(--gold) 0%, #DAA520 100%);
      border: 3px solid var(--chrome);
      cursor: pointer;
      font-size: 24px;
      padding: 12px 16px;
      display: flex;
      align-items: center;
      outline: none;
      transition: all 0.3s;
      margin: 0 20px;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      min-width: 60px;
      min-height: 60px;
      justify-content: center;
    }
    
    #theme-toggle:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.4);
    }
    
    #theme-toggle:active {
      transform: translateY(0);
      box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    
    #theme-icon {
      transition: transform 0.3s;
    }
    
    #theme-toggle:active #theme-icon {
      transform: rotate(-30deg) scale(1.2);
    }
    .slot-machine-container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: calc(100vh - var(--header-height));
      width: 100vw;
      padding: 20px;
      margin-top: var(--header-height);
      background: radial-gradient(ellipse at center, rgba(101, 67, 33, 0.2) 0%, transparent 70%);
    }
    
    .slot-machine {
      position: relative;
      width: var(--machine-width);
      height: var(--machine-height);
      background: linear-gradient(135deg, var(--machine-body) 0%, #4A2C17 50%, var(--machine-body) 100%);
      border-radius: 30px;
      border: 8px solid var(--chrome);
      box-shadow: 
        0 0 40px rgba(0, 0, 0, 0.9),
        inset 0 0 20px rgba(255, 215, 0, 0.2),
        inset 0 -10px 20px rgba(0, 0, 0, 0.8);
      padding: 30px;
      overflow: visible;
      max-width: none;
      cursor: pointer; /* Add pointer cursor to indicate interactivity */
    }
    
    .machine-glow {
      position: absolute;
      top: -20px;
      left: -20px;
      right: -20px;
      bottom: -20px;
      background: radial-gradient(ellipse at center, rgba(255, 215, 0, 0.3) 0%, rgba(0, 0, 0, 0) 70%);
      border-radius: 50px;
      z-index: -1;
      animation: glow-pulse 3s ease-in-out infinite alternate;
    }
    
    @keyframes glow-pulse {
      0% { opacity: 0.5; }
      100% { opacity: 0.8; }
    }
    .machine-top {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background: linear-gradient(135deg, var(--machine-face) 0%, #333 100%);
      border-radius: 20px;
      border: 4px solid var(--chrome);
      position: relative;
      box-shadow: 
        inset 0 0 20px rgba(0, 0, 0, 0.5),
        0 4px 8px rgba(0, 0, 0, 0.3);
    }
    
    .jackpot-display {
      font-size: 48px;
      font-weight: 900;
      color: var(--gold);
      text-shadow: 
        0 0 20px var(--gold),
        0 0 40px var(--gold),
        2px 2px 4px rgba(0, 0, 0, 0.8);
      letter-spacing: 4px;
      animation: jackpot-glow 2s ease-in-out infinite alternate;
    }
    
    @keyframes jackpot-glow {
      0% { text-shadow: 0 0 20px var(--gold), 0 0 40px var(--gold), 2px 2px 4px rgba(0, 0, 0, 0.8); }
      100% { text-shadow: 0 0 30px var(--gold), 0 0 60px var(--gold), 2px 2px 4px rgba(0, 0, 0, 0.8); }
    }
    .flashing-lights {
      position: absolute;
      top: -8px;
      left: 10px;
      right: 10px;
      height: 16px;
      display: flex;
      justify-content: space-around;
      z-index: 5;
    }
    
    .light {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background-color: #222;
      border: 2px solid var(--chrome);
      box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.8);
      transition: all 0.2s;
    }
    
    .light.on {
      background-color: var(--red-led);
      box-shadow: 
        0 0 20px var(--red-led),
        0 0 40px var(--red-led),
        inset 0 0 8px rgba(255, 255, 255, 0.3);
    }
    
    .light:nth-child(2n).on {
      background-color: var(--blue-led);
      box-shadow: 
        0 0 20px var(--blue-led),
        0 0 40px var(--blue-led),
        inset 0 0 8px rgba(255, 255, 255, 0.3);
    }
    
    .light:nth-child(3n).on {
      background-color: var(--green-led);
      box-shadow: 
        0 0 20px var(--green-led),
        0 0 40px var(--green-led),
        inset 0 0 8px rgba(255, 255, 255, 0.3);
    }
    .reels-container {
      display: flex;
      justify-content: space-between;
      gap: 20px;
      margin-bottom: 30px;
      position: relative;
      background: linear-gradient(135deg, var(--machine-face) 0%, #1a1a1a 100%);
      padding: 20px;
      border-radius: 20px;
      border: 4px solid var(--chrome);
      box-shadow: 
        inset 0 0 30px rgba(0, 0, 0, 0.8),
        0 4px 8px rgba(0, 0, 0, 0.3);
      cursor: pointer; /* Add pointer cursor */
      transition: all 0.2s ease;
    }
    
    /* Add visual feedback for touch interaction */
    .reels-container:active {
      transform: scale(0.98);
      box-shadow: 
        inset 0 0 40px rgba(0, 0, 0, 0.9),
        0 2px 4px rgba(0, 0, 0, 0.2);
    }
    
    .reel {
      position: relative;
      flex: 1;
      height: 300px;
      background: linear-gradient(135deg, #000 0%, #1a1a1a 50%, #000 100%);
      border-radius: 15px;
      border: 3px solid var(--chrome);
      overflow: hidden;
      box-shadow: 
        inset 0 0 30px rgba(0, 0, 0, 0.9),
        0 0 10px rgba(255, 215, 0, 0.3);
    }
    
    .reel::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.1) 50%,
        transparent 100%
      );
      pointer-events: none;
      z-index: 2;
    }
    .slot-item {
      position: absolute;
      width: 100%;
      height: 33.33%;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: top 0.8s cubic-bezier(.4,1.6,.6,.8);
      background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
    }
    
    .slot-item.top { top: 0; }
    .slot-item.middle { top: 33.33%; }
    .slot-item.bottom { top: 66.66%; }
    
    .slot-item img {
      max-width: 85%;
      max-height: 85%;
      object-fit: contain;
      transition: transform 0.5s cubic-bezier(.4,1.6,.6,.8);
      filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.3));
    }
    
    .slot-item.middle img {
      max-width: 95%;
      max-height: 95%;
      filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.5));
    }
    
    .spinning .slot-item {
      animation: spin-blur 0.05s infinite linear;
    }
    
    /* Spinning animations */
    @keyframes spin-blur {
      0% { filter: blur(0px); }
      50% { filter: blur(3px); }
      100% { filter: blur(0px); }
    }
    
    .reel.spinning .slot-item img {
      animation: spin-blur 0.1s infinite;
    }
    
    /* Win line highlight */
    .win-line {
      position: absolute;
      left: 0;
      right: 0;
      top: 50%;
      height: 8px;
      background: linear-gradient(90deg, transparent 0%, var(--red-led) 50%, transparent 100%);
      transform: translateY(-50%);
      z-index: 5;
      pointer-events: none;
      border: 2px solid rgba(255, 255, 255, 0.8);
      border-radius: 4px;
      box-shadow: 0 0 20px var(--red-led);
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .win-line.highlight {
      background: linear-gradient(90deg, transparent 0%, var(--green-led) 50%, transparent 100%);
      box-shadow: 
        0 0 30px var(--green-led),
        0 0 60px var(--green-led);
      opacity: 1;
      animation: win-line-pulse 0.5s infinite alternate;
    }
    
    @keyframes win-line-pulse {
      0% { 
        opacity: 0.8;
        box-shadow: 0 0 30px var(--green-led), 0 0 60px var(--green-led);
      }
      100% { 
        opacity: 1;
        box-shadow: 0 0 50px var(--green-led), 0 0 100px var(--green-led);
      }
    }
    
    /* Vibration simulation */
    .slot-machine.vibrate {
      animation: vibrate 0.1s linear infinite;
    }
    
    @keyframes vibrate {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-2px); }
      75% { transform: translateX(2px); }
    }
    .controls {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      background: linear-gradient(135deg, var(--machine-face) 0%, #333 100%);
      border-radius: 20px;
      border: 4px solid var(--chrome);
      box-shadow: 
        inset 0 0 20px rgba(0, 0, 0, 0.5),
        0 4px 8px rgba(0, 0, 0, 0.3);
    }
    
    .score-display {
      display: flex;
      justify-content: space-between;
      width: 100%;
      margin-bottom: 30px;
      gap: 20px;
    }
    
    .score-card {
      background: linear-gradient(135deg, #000 0%, #1a1a1a 100%);
      padding: 20px 25px;
      border-radius: 15px;
      border: 3px solid var(--chrome);
      text-align: center;
      flex: 1;
      box-shadow: 
        inset 0 0 20px rgba(0, 0, 0, 0.8),
        0 4px 8px rgba(0, 0, 0, 0.3);
    }
    
    .score-card h3 {
      font-size: 16px;
      margin-bottom: 8px;
      color: var(--gold);
      font-weight: bold;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
      letter-spacing: 1px;
    }
    
    .score-value {
      font-size: 32px;
      font-weight: 900;
      color: var(--gold);
      text-shadow: 
        0 0 10px var(--gold),
        2px 2px 4px rgba(0, 0, 0, 0.8);
      font-family: "Courier New", monospace;
    }
    .spin-button {
      background: linear-gradient(135deg, var(--red-led) 0%, #CC0000 50%, var(--red-led) 100%);
      color: white;
      border: 6px solid var(--chrome);
      border-radius: 25px;
      padding: 25px 60px;
      font-size: 32px;
      font-weight: 900;
      cursor: pointer;
      box-shadow: 
        0 8px 20px rgba(0, 0, 0, 0.5),
        inset 0 0 20px rgba(255, 255, 255, 0.2);
      transition: all 0.2s ease;
      position: relative;
      overflow: hidden;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
      letter-spacing: 3px;
      min-width: 200px;
      min-height: 80px;
    }
    
    .spin-button:hover {
      transform: translateY(-4px);
      box-shadow: 
        0 12px 30px rgba(0, 0, 0, 0.6),
        inset 0 0 30px rgba(255, 255, 255, 0.3);
      background: linear-gradient(135deg, #FF3333 0%, #FF0000 50%, #CC0000 100%);
    }
    
    .spin-button:active, .spin-button.touch-active {
      transform: translateY(2px);
      box-shadow: 
        0 4px 15px rgba(0, 0, 0, 0.4),
        inset 0 0 15px rgba(255, 255, 255, 0.1);
    }
    
    .spin-button:disabled {
      background: linear-gradient(135deg, #666 0%, #444 50%, #333 100%);
      color: #999;
      cursor: not-allowed;
      box-shadow: 
        0 4px 10px rgba(0, 0, 0, 0.3),
        inset 0 0 10px rgba(255, 255, 255, 0.05);
      transform: translateY(0);
    }
    /* Light Mode Win Message */
    body.light-mode .win-message {
      background: linear-gradient(135deg, var(--gold) 0%, #F57C00 100%) !important;
      border: 6px solid #FFFFFF !important;
      color: #FFFFFF !important;
      box-shadow: 
        0 0 50px rgba(255, 152, 0, 0.8),
        0 0 100px rgba(255, 152, 0, 0.4),
        inset 0 0 20px rgba(255, 255, 255, 0.3);
    }
    
    body.light-mode .win-message h2 {
      color: #FFFFFF !important;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
    }
    
    body.light-mode .win-message p {
      color: #FFFFFF !important;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    }
    
    body.light-mode .win-message button {
      background: linear-gradient(135deg, var(--red-led) 0%, #D32F2F 100%);
      border: 4px solid #FFFFFF;
    }
    
    /* Light Mode Paytable */
    body.light-mode .paytable {
      background: linear-gradient(135deg, #FFFFFF 0%, #F5F5F5 100%) !important;
      border: 4px solid var(--chrome) !important;
      color: var(--text-color) !important;
      box-shadow: 
        0 8px 20px rgba(0, 0, 0, 0.15),
        inset 0 0 20px rgba(33, 150, 243, 0.1);
    }
    
    body.light-mode .paytable h3 {
      color: var(--gold) !important;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
    }
    
    body.light-mode .paytable-item {
      background: rgba(33, 150, 243, 0.05);
      border: 1px solid var(--chrome);
    }
    
    body.light-mode .paytable-item span {
      color: var(--text-color) !important;
      text-shadow: none;
    }
    
    body.light-mode .paytable-button {
      background: linear-gradient(135deg, var(--gold) 0%, #F57C00 100%) !important;
      border: 4px solid var(--chrome) !important;
      color: #FFFFFF !important;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    }
    
    /* Dark Mode Specific Overrides */
    body:not(.light-mode) .slot-machine {
      border: 8px solid #000 !important;
    }
    
    body:not(.light-mode) .machine-top {
      border: 4px solid #000 !important;
    }
    
    body:not(.light-mode) .reels-container {
      border: 4px solid #000 !important;
    }
    
    body:not(.light-mode) .reel {
      border: 3px solid #000 !important;
    }
    
    body:not(.light-mode) .controls {
      border: 4px solid #000 !important;
    }
    
    body:not(.light-mode) .score-card {
      border: 3px solid #000 !important;
    }
    
    body:not(.light-mode) .spin-button {
      border: 6px solid #000 !important;
    }
    
    body:not(.light-mode) .win-message {
      border: 6px solid #000 !important;
    }
    
    body:not(.light-mode) .win-message button {
      border: 4px solid #000 !important;
    }
    
    body:not(.light-mode) #theme-toggle {
      border: 3px solid #000 !important;
    }
    
    body:not(.light-mode) .paytable-button {
      border: 4px solid #000 !important;
    }
    
    body:not(.light-mode) .paytable {
      border: 4px solid #000 !important;
    }
    
    body:not(.light-mode) .paytable-item {
      border: 1px solid #000 !important;
    }
    
    body:not(.light-mode) .light {
      border: 2px solid #000 !important;
    }
    
    body:not(.light-mode) .lever {
      border: 3px solid #000 !important;
    }
    
    body:not(.light-mode) .lever::after {
      border: 3px solid #000 !important;
    }
    
    body:not(.light-mode) .lever-base {
      border: 3px solid #000 !important;
    }
    /* Touchscreen optimizations for the spin button */
    @media (hover: none) and (pointer: coarse) {
      /* This media query targets touch devices */
      .spin-button {
        padding: 30px 65px; /* Increased padding for larger touch target */
        font-size: 36px;    /* Larger text */
        min-width: 220px;   /* Wider button */
        min-height: 100px;  /* Taller button */
        /* Add a subtle indicator that the button is touchable */
        box-shadow: 
          0 8px 20px rgba(0, 0, 0, 0.5),
          inset 0 0 20px rgba(255, 255, 255, 0.2),
          0 0 15px rgba(255, 0, 0, 0.3);
      }
      
      /* Improve tap highlight behavior */
      .spin-button.touch-active {
        transform: translateY(3px) scale(0.98);
        box-shadow: 
          0 4px 10px rgba(0, 0, 0, 0.4),
          inset 0 0 15px rgba(255, 255, 255, 0.1);
        transition: transform 0.1s ease, box-shadow 0.1s ease;
      }
    }
    
    /* iPhone and Mobile Optimizations */
    @media (max-width: 480px) {
      :root {
        --machine-width: 95vw;
        --machine-height: auto;
      }
      
      body {
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
        height: 100%;
        position: relative;
      }
      
      .app-header {
        height: 60px;
        padding: 0 10px;
      }
      
      .game-title {
        font-size: 24px;
      }
      
      .user-info, .date-info {
        font-size: 14px;
      }
      
      .slot-machine-container {
        padding: 10px;
        height: auto;
      }
      
      .slot-machine {
        width: 100%;
        height: auto;
        padding: 15px;
      }
      
      .machine-top {
        margin-bottom: 15px;
        padding: 10px;
      }
      
      .jackpot-display {
        font-size: 24px;
      }
      
      .reels-container {
        gap: 10px;
        padding: 10px;
      }
      
      .reel {
        height: 180px;
      }
      
      .spin-button {
        padding: 15px 30px;
        font-size: 24px;
        min-width: 160px;
        min-height: 60px;
      }
      
      .score-display {
        flex-direction: row;
        gap: 10px;
      }
      
      .score-card {
        padding: 10px;
      }
      
      .score-card h3 {
        font-size: 14px;
      }
      
      .score-value {
        font-size: 20px;
      }
    }
    
    /* iPhone landscape */
    @media (max-width: 896px) and (orientation: landscape) {
      .app-header {
        height: 50px;
      }
      
      .slot-machine {
        height: auto;
        max-height: 80vh;
      }
      
      .reel {
        height: 120px;
      }
      
      .score-display {
        flex-direction: row;
        margin-bottom: 15px;
      }
      
      .spin-button {
        padding: 10px 20px;
        font-size: 20px;
        min-height: 50px;
      }
    }
    
    /* iPhone portrait - smaller devices */
    @media (max-width: 380px) {
      .app-header {
        height: 50px;
        padding: 0 5px;
        flex-wrap: wrap;
        justify-content: center;
      }
      
      .game-title {
        font-size: 20px;
        width: 100%;
        text-align: center;
        margin: 0;
        order: 1;
      }
      
      .user-info {
        font-size: 12px;
        order: 2;
      }
      
      .date-info {
        font-size: 12px;
        order: 4;
      }
      
      #theme-toggle {
        order: 3;
        margin: 5px;
        min-width: 40px;
        min-height: 40px;
      }
      
      .reel {
        height: 150px;
      }
      
      .score-card {
        padding: 8px;
      }
      
      .score-card h3 {
        font-size: 12px;
        margin-bottom: 4px;
      }
      
      .score-value {
        font-size: 18px;
      }
    }
    
    /* Handle notched iPhones */
    @supports (padding: max(0px)) {
      body {
        padding-top: max(var(--header-height), env(safe-area-inset-top));
        padding-bottom: env(safe-area-inset-bottom);
        padding-left: env(safe-area-inset-left);
        padding-right: env(safe-area-inset-right);
      }
      
      .app-header {
        padding-top: max(0px, env(safe-area-inset-top));
        padding-left: max(10px, env(safe-area-inset-left));
        padding-right: max(10px, env(safe-area-inset-right));
      }
    }
  </style>
</head>
<body>
  <!-- Audio elements -->
  <audio id="spin-sound" src="sounds/spin.wav" preload="auto"></audio>
  <audio id="stop-sound" src="sounds/stop.wav" preload="auto"></audio>
  <audio id="win-sound" src="sounds/win.wav" preload="auto"></audio>
  <audio id="win3-sound" src="sounds/win3.wav" preload="auto"></audio>
  <audio id="lose-sound" src="sounds/lose.wav" preload="auto"></audio>
  
  <div class="app-header">
    <div class="user-info">User: Player1</div>
    <div class="date-info">Date: 2023-10-05</div>
    <div class="game-title">OctoSlots</div>
    <div id="theme-toggle">
      <div id="theme-icon">ðŸŽ°</div>
    </div>
  </div>
  <div class="slot-machine-container">
    <div class="slot-machine">
      <div class="machine-glow"></div>
      <div class="machine-top">
        <div class="jackpot-display">Jackpot: <span class="jackpot-amount">1,000,000</span></div>
        <div class="flashing-lights">
          <div class="light"></div>
          <div class="light"></div>
          <div class="light"></div>
        </div>
      </div>
      <div class="reels-container">
        <div id="reel1" class="reel">
          <div class="slot-item top" id="reel1-top"></div>
          <div class="slot-item middle" id="reel1-middle"></div>
          <div class="slot-item bottom" id="reel1-bottom"></div>
        </div>
        <div id="reel2" class="reel">
          <div class="slot-item top" id="reel2-top"></div>
          <div class="slot-item middle" id="reel2-middle"></div>
          <div class="slot-item bottom" id="reel2-bottom"></div>
        </div>
        <div id="reel3" class="reel">
          <div class="slot-item top" id="reel3-top"></div>
          <div class="slot-item middle" id="reel3-middle"></div>
          <div class="slot-item bottom" id="reel3-bottom"></div>
        </div>
        <div id="win-line" class="win-line"></div>
      </div>
      <div class="controls">
        <div class="score-display">
          <div class="score-card">
            <h3>CREDITS</h3>
            <div class="score-value" id="credits">500</div>
          </div>
          <div class="score-card">
            <h3>BET</h3>
            <div class="score-value" id="bet-amount">10</div>
          </div>
          <div class="score-card">
            <h3>WIN</h3>
            <div class="score-value" id="win-amount">0</div>
          </div>
        </div>
        <button class="spin-button" id="spin-button">SPIN</button>
      </div>
    </div>
  </div>
  <div class="paytable">
    <h3>Paytable</h3>
    <div class="paytable-item">
      <img src="images/original.png" alt="Original">
      <span class="payout">x3: 1000 pts</span>
    </div>
    <div class="paytable-item">
      <img src="images/octobiwan.png" alt="Octobiwan">
      <span class="payout">x3: 500 pts</span>
    </div>
    <div class="paytable-item">
      <span class="payout">Any 3 matching: 250 pts</span>
    </div>
    <div class="paytable-item">
      <span class="payout">Any 2 matching: 50 pts</span>
    </div>
    <div class="paytable-button">Close</div>
  </div>
  <script>
    // JavaScript code for interactivity
    const elements = {
      spinButton: document.getElementById('spin-button'),
      reels: [
        document.getElementById('reel1'),
        document.getElementById('reel2'),
        document.getElementById('reel3')
      ],
      jackpotDisplay: document.querySelector('.jackpot-display'),
      creditsDisplay: document.getElementById('credits'),
      betDisplay: document.getElementById('bet-amount'),
      winDisplay: document.getElementById('win-amount'),
      paytableButton: document.querySelector('.paytable-button'),
      paytable: document.querySelector('.paytable'),
      themeToggle: document.getElementById('theme-toggle'),
      themeIcon: document.getElementById('theme-icon'),
      slotItems: {
        top: [
          document.getElementById('reel1-top'),
          document.getElementById('reel2-top'),
          document.getElementById('reel3-top')
        ],
        middle: [
          document.getElementById('reel1-middle'),
          document.getElementById('reel2-middle'),
          document.getElementById('reel3-middle')
        ],
        bottom: [
          document.getElementById('reel1-bottom'),
          document.getElementById('reel2-bottom'),
          document.getElementById('reel3-bottom')
        ]
      },
      winLine: document.getElementById('win-line'),
      lights: document.querySelectorAll('.light')
    };
    
    // Define the Octocats array
    const octocats = [
      { name: 'Original', image: 'images/original.png', value: 10 },
      { name: 'Surftocat', image: 'images/surftocat.png', value: 5 },
      { name: 'Yogitocat', image: 'images/yogitocat.png', value: 5 },
      { name: 'Boxer', image: 'images/boxertocat_octodex.png', value: 5 },
      { name: 'Dinotocat', image: 'images/dinotocat.png', value: 5 },
      { name: 'Plumber', image: 'images/plumber.png', value: 5 },
      { name: 'Security', image: 'images/securitocat.png', value: 8 },
      { name: 'Inspectocat', image: 'images/inspectocat.png', value: 5 },
      { name: 'Daftpunktocat', image: 'images/daftpunktocat-guy.gif', value: 5 },
      { name: 'Minion', image: 'images/minion.png', value: 5 },
      { name: 'Droidtocat', image: 'images/droidtocat.png', value: 5 },
      { name: 'Ironcat', image: 'images/ironcat.png', value: 5 },
      { name: 'TopGun', image: 'images/topguntocat.png', value: 5 },
      { name: 'Megacat', image: 'images/megacat.png', value: 5 },
      { name: 'Repo', image: 'images/repo.png', value: 5 }
    ];
    
    const config = {
      spinCost: 10,
      spinDuration: 2000,
      reelStopDelay: 500,
      prizes: {
        jackpot: 1000,
        threeOriginal: 1000,
        threeMatching: 250,
        twoMatching: 50
      }
    };
    
    const state = {
      isSpinning: false,
      credits: 1000,
      bet: config.spinCost,
      win: 0,
      jackpot: 1000000,
      currentSymbols: [null, null, null]
    };
    
    // Audio handling with better mobile support
    const audioContext = {
      initialized: false,
      context: null,
      sounds: {},
      currentSounds: {},
      isIOS: /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream
    };
    
    // Initialize Web Audio API if supported
    function initAudio() {
      try {
        if (audioContext.initialized) return true;
        
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        if (AudioContext) {
          audioContext.context = new AudioContext();
          audioContext.initialized = true;
          return true;
        }
        return false;
      } catch (e) {
        console.log('Web Audio API not supported:', e);
        return false;
      }
    }
    
    // Load and play sounds with proper mobile handling
    function playSound(soundName) {
      try {
        // Map sound names to audio element IDs
        const audioMap = {
          'spin': 'spin-sound',
          'stop': 'stop-sound',
          'win': 'win-sound',
          'win3': 'win3-sound',
          'lose': 'lose-sound'
        };
        
        // On iOS, we need special handling for the spin sound
        // because it often gets interrupted by other sounds
        if (audioContext.isIOS && soundName === 'spin') {
          // Create a new Audio instance for spin sound on iOS
          const tempAudio = new Audio('sounds/spin.wav');
          tempAudio.volume = 1.0;
          tempAudio.play().catch(e => {
            console.log('Spin sound fallback failed:', e);
          });
          return tempAudio;
        }
        
        // For other sounds, use the pre-loaded audio elements
        const audioId = audioMap[soundName];
        if (!audioId) return;
        
        const audio = document.getElementById(audioId);
        if (!audio) return;
        
        // Stop any currently playing sound of this type
        if (audioContext.currentSounds[soundName]) {
          try {
            audioContext.currentSounds[soundName].pause();
          } catch (e) { /* Ignore errors on pause */ }
        }
        
        // On mobile, especially iOS, it's better to clone for overlapping sounds
        if (audioContext.isIOS && (soundName === 'stop')) {
          const clone = audio.cloneNode(true);
          clone.volume = 1.0;
          clone.play().catch(e => {
            console.log('Cloned audio play failed:', e);
          });
          
          // Clean up clones after they finish
          clone.onended = function() {
            clone.onended = null;
            clone.remove();
          };
          
          return clone;
        }
        
        // For non-iOS or non-overlapping sounds
        audio.currentTime = 0;
        audio.volume = 1.0;
        
        // Play with promise handling
        const playPromise = audio.play();
        audioContext.currentSounds[soundName] = audio;
        
        if (playPromise !== undefined) {
          playPromise.catch(error => {
            console.log(`Audio '${soundName}' play failed:`, error);
            delete audioContext.currentSounds[soundName];
          });
        }
        
        return audio;
      } catch (e) {
        console.error('Error playing sound:', e);
        return null;
      }
    }
    
    // Function to unlock audio playback on user interaction
    function unlockAudio() {
      const sounds = [
        document.getElementById('spin-sound'),
        document.getElementById('stop-sound'),
        document.getElementById('win-sound'),
        document.getElementById('win3-sound'),
        document.getElementById('lose-sound')
      ];
      
      sounds.forEach(sound => {
        if (sound) {
          // Set very low volume for the initial play
          sound.volume = 0.01;
          
          // Try to play and immediately pause
          const playPromise = sound.play();
          if (playPromise !== undefined) {
            playPromise.then(() => {
              sound.pause();
              sound.currentTime = 0;
              sound.volume = 1.0;
            }).catch(e => {
              console.log('Audio unlock failed, that\'s OK on some browsers');
            });
          }
        }
      });
      
      // Remove the event listeners once unlocked
      document.removeEventListener('click', unlockAudio);
      document.removeEventListener('touchstart', unlockAudio);
    }
    
    // Function to set a random symbol on a slot item
    function setRandomSymbol(slotItem) {
      const randomOctocat = octocats[Math.floor(Math.random() * octocats.length)];
      slotItem.innerHTML = `<img src="${randomOctocat.image}" alt="${randomOctocat.name}">`;
      slotItem.dataset.name = randomOctocat.name;
      return randomOctocat;
    }
    
    // Function to set a specific symbol on a slot item
    function setSymbol(slotItem, symbolName) {
      const octocat = octocats.find(o => o.name === symbolName) || octocats[0];
      slotItem.innerHTML = `<img src="${octocat.image}" alt="${octocat.name}">`;
      slotItem.dataset.name = octocat.name;
      return octocat;
    }
    
    // Initialize slots with random symbols
    function initializeSlots() {
      elements.slotItems.top.forEach(setRandomSymbol);
      elements.slotItems.middle.forEach(setRandomSymbol);
      elements.slotItems.bottom.forEach(setRandomSymbol);
    }
    
    function updateDisplay() {
      elements.creditsDisplay.textContent = state.credits;
      elements.betDisplay.textContent = state.bet;
      elements.winDisplay.textContent = state.win;
      const jackpotAmount = elements.jackpotDisplay.querySelector('.jackpot-amount');
      if (jackpotAmount) {
        jackpotAmount.textContent = state.jackpot.toLocaleString();
      } else {
        elements.jackpotDisplay.textContent = `JACKPOT: ${state.jackpot.toLocaleString()}`;
      }
    }
    
    function simulateHaptic(duration) {
      // Simulate haptic feedback for touch devices
      if (navigator.vibrate) {
        navigator.vibrate(duration);
      }
    }
    
    // Determine winning combinations
    function determineWinningSymbols() {
      const randomValue = Math.random();
      let symbols = [];
      
      if (randomValue < 0.1) {
        // 10% chance of all 3 matching
        const symbolName = octocats[Math.floor(Math.random() * octocats.length)].name;
        symbols = [symbolName, symbolName, symbolName];
      } else if (randomValue < 0.3) {
        // 20% chance of 2 matching
        const symbolName1 = octocats[Math.floor(Math.random() * octocats.length)].name;
        let symbolName2;
        do {
          symbolName2 = octocats[Math.floor(Math.random() * octocats.length)].name;
        } while (symbolName2 === symbolName1);
        
        symbols = [symbolName1, symbolName1, symbolName2];
        // Randomize the positions a bit
        if (Math.random() > 0.5) {
          symbols = [symbolName1, symbolName2, symbolName1];
        } else if (Math.random() > 0.5) {
          symbols = [symbolName2, symbolName1, symbolName1];
        }
      } else {
        // 70% chance of all different
        symbols = Array(3).fill().map(() => 
          octocats[Math.floor(Math.random() * octocats.length)].name
        );
      }
      
      return symbols;
    }
    
    // Evaluate the win based on the symbols
    function evaluateWin(symbols) {
      if (symbols[0] === 'Original' && symbols[1] === 'Original' && symbols[2] === 'Original') {
        return { amount: config.prizes.threeOriginal, sound: 'win' };
      }
      if (symbols[0] === symbols[1] && symbols[1] === symbols[2]) {
        return { amount: config.prizes.threeMatching, sound: 'win' };
      }
      if (symbols[0] === symbols[1] || symbols[1] === symbols[2] || symbols[0] === symbols[2]) {
        return { amount: config.prizes.twoMatching, sound: 'win' };
      }
      return { amount: 0, sound: 'lose' };
    }
    
    // Flashing lights animation
    let lightInterval = null;
    function startLights(winning = false) {
      if (lightInterval) clearInterval(lightInterval);
      
      elements.lights.forEach(light => light.classList.remove('on'));
      
      let idx = 0;
      lightInterval = setInterval(() => {
        elements.lights.forEach((light, i) => {
          if (winning) {
            // Random flashing for winning
            light.classList.toggle('on', Math.random() > 0.5);
          } else {
            // Sequential flashing for spinning
            light.classList.toggle('on', i === idx % elements.lights.length);
          }
        });
        idx++;
      }, 100);
    }
    
    function stopLights() {
      if (lightInterval) clearInterval(lightInterval);
      elements.lights.forEach(light => light.classList.remove('on'));
    }
    
    // Spin all reels
    async function spinAllReels() {
      if (state.isSpinning) return;
      
      if (state.credits < state.bet) {
        alert('Not enough credits!');
        return;
      }
      
      // Deduct bet and update display
      state.credits -= state.bet;
      state.win = 0;
      updateDisplay();
      
      // Start spinning animation
      state.isSpinning = true;
      elements.spinButton.disabled = true;
      startLights();
      
      // Add vibration effect to the machine
      const slotMachine = document.querySelector('.slot-machine');
      if (slotMachine) {
        slotMachine.classList.add('vibrate');
      }
      
      // Unlock audio and play spin sound
      unlockAudio();
      playSound('spin');
      
      // Add spinning class to reels
      elements.reels.forEach(reel => reel.classList.add('spinning'));
      
      // Set up spinning intervals for random symbols
      const spinningIntervals = elements.reels.map((reel, reelIndex) => {
        return setInterval(() => {
          setRandomSymbol(elements.slotItems.top[reelIndex]);
          setRandomSymbol(elements.slotItems.middle[reelIndex]);
          setRandomSymbol(elements.slotItems.bottom[reelIndex]);
        }, 80);
      });
      
      // Determine the final result
      const finalSymbols = determineWinningSymbols();
      
      // Stop each reel with a delay
      for (let i = 0; i < 3; i++) {
        await new Promise(resolve => {
          setTimeout(() => {
            clearInterval(spinningIntervals[i]);
            
            // Set the final symbols
            setRandomSymbol(elements.slotItems.top[i]);
            setSymbol(elements.slotItems.middle[i], finalSymbols[i]);
            setRandomSymbol(elements.slotItems.bottom[i]);
            
            elements.reels[i].classList.remove('spinning');
            playSound('stop');
            
            // Haptic feedback for each reel stop
            simulateHaptic(50);
            
            resolve();
          }, config.spinDuration + i * config.reelStopDelay);
        });
      }
      
      // Stop vibration
      if (slotMachine) {
        slotMachine.classList.remove('vibrate');
      }
      
      // Store current symbols for win evaluation
      state.currentSymbols = [
        elements.slotItems.middle[0].dataset.name,
        elements.slotItems.middle[1].dataset.name,
        elements.slotItems.middle[2].dataset.name
      ];
      
      // Evaluate win
      const win = evaluateWin(state.currentSymbols);
      state.win = win.amount;
      
      if (win.amount > 0) {
        state.credits += win.amount;
        playSound(win.sound);
        startLights(true);
        
        // Highlight the win line
        if (elements.winLine) {
          elements.winLine.classList.add('highlight');
        }
        
        // Big win haptic feedback
        if (win.amount >= 250) {
          simulateHaptic([200, 100, 200, 100, 200]);
        }
      } else {
        playSound('lose');
        stopLights();
        if (elements.winLine) {
          elements.winLine.classList.remove('highlight');
        }
      }
      
      updateDisplay();
      
      // Reset state
      setTimeout(() => {
        state.isSpinning = false;
        elements.spinButton.disabled = false;
      }, 800);
    }

    // Event Listeners
    elements.spinButton.addEventListener('click', spinAllReels);
    elements.spinButton.addEventListener('touchstart', function(e) {
      e.preventDefault(); // Prevent double-tap zoom
      simulateHaptic(50);
      elements.spinButton.classList.add('touch-active');
      spinAllReels(); // Directly call spinAllReels on touchstart
    });
    elements.spinButton.addEventListener('touchend', function(e) {
      elements.spinButton.classList.remove('touch-active');
    });
    elements.spinButton.addEventListener('touchcancel', function(e) {
      elements.spinButton.classList.remove('touch-active');
    });
    
    elements.paytableButton.addEventListener('click', () => {
      elements.paytable.classList.toggle('visible');
    });
    
    elements.themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('light-mode');
      elements.themeIcon.textContent = document.body.classList.contains('light-mode') ? 'ðŸŒž' : 'ðŸŒ™';
    });
    
    // Initialize
    initializeSlots();
    updateDisplay();
  </script>
</body>
</html>